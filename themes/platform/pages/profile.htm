title = "Profile"
url = "/profile"
layout = "platform"
description = "Users profile page"
is_hidden = 0

[session]
security = "user"
redirect = "login"

[reCaptcha]
[Profile]
[Uploader]

placeholderText = "Click or drag images to upload"
maxSize = 1
fileTypes = ".gif,.jpg,.jpeg,.png"
imageWidth = 160
imageHeight = 160
imageMode = "crop"
modelClass = "RainLab\User\Models\User"
modelKeyColumn = "avatar"
identifierValue = "{{ :id }}"
==

use RainLab\User\Models\User;

    function onInit ()
    {
        $user = Auth::getUser();

        if($user){
            $component = $this->addComponent(
                'Cryptopolice\Uploader\Components\ImageUploader',
                'Uploader', [
                    'modelClass'=>'RainLab\User\Models\User',
                    'modelKeyColumn'=>'avatar',
                    'deferredBinding' => false
                ]
            );

            $component->bindModel('avatar', $user);
        }
    }

==
<main class="content">
    <div class="content__inner">

        <div class="content__left">

            <div class="breadcrumbs">
                <a class="breadcrumbs__item" href="#">Home</a>
                <span class="breadcrumbs__item  active">My profile</span>
            </div>

            <div class="profile">

                {% component 'Profile' %}

            </div>
        </div>
    </div>
</main>